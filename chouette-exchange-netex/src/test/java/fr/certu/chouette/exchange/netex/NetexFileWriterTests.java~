package fr.certu.chouette.exchange.xml.neptune;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

import org.apache.log4j.Logger;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.testng.AbstractTestNGSpringContextTests;
import org.testng.Assert;
import org.testng.Reporter;
import org.testng.annotations.Parameters;
import org.testng.annotations.Test;

import fr.certu.chouette.common.ChouetteException;
import fr.certu.chouette.model.neptune.AccessLink;
import fr.certu.chouette.model.neptune.AccessPoint;
import fr.certu.chouette.model.neptune.ConnectionLink;
import fr.certu.chouette.model.neptune.Facility;
import fr.certu.chouette.model.neptune.JourneyPattern;
import fr.certu.chouette.model.neptune.Line;
import fr.certu.chouette.model.neptune.Route;
import fr.certu.chouette.model.neptune.StopArea;
import fr.certu.chouette.model.neptune.StopPoint;
import fr.certu.chouette.model.neptune.type.facility.AccessFacilityEnumeration;
import fr.certu.chouette.model.neptune.type.facility.FacilityFeature;
import fr.certu.chouette.plugin.exchange.IExportPlugin;
import fr.certu.chouette.plugin.exchange.IImportPlugin;
import fr.certu.chouette.plugin.exchange.ParameterValue;
import fr.certu.chouette.plugin.exchange.SimpleParameterValue;
import fr.certu.chouette.plugin.report.Report;
import fr.certu.chouette.plugin.report.ReportHolder;
import fr.certu.chouette.plugin.report.ReportItem;

@ContextConfiguration(locations={"classpath:testContext.xml"})
@SuppressWarnings("unchecked")
public class NetexExportTests extends AbstractTestNGSpringContextTests
{
   private static final Logger logger = Logger.getLogger(NeptuneExportTests.class);

   private IImportPlugin<Line> importLine = null;
   private IExportPlugin<Line> exportLine = null;
   private String neptuneFile = null;
   private String path="src/test/resources/";
   private String targetPath="target/test/";


   @Test(groups={"ExportLine"}, description="Get a bean from context")
   public void getBean()
   {
      importLine = (IImportPlugin<Line>) applicationContext.getBean("NeptuneLineImport") ;
      exportLine = (IExportPlugin<Line>) applicationContext.getBean("NeptuneLineExport") ;
   }

   @Parameters({"neptuneFile"})
   @Test (groups = {"ExportLine"}, description = "Export Plugin should export neptune file",dependsOnMethods={"getBean"})
   public void getNeptuneFile(String neptuneFile)
   {
      this.neptuneFile = neptuneFile;
   }

}
